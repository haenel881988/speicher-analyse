# Änderungsprotokoll

> **Regel:** Maximal 30 Einträge. Bei Überschreitung die ältesten in `archiv/` verschieben (Dateiname: `aenderungsprotokoll_<version>.md`).

Archiv: [`archiv/aenderungsprotokoll_v7.0-v7.2.md`](archiv/aenderungsprotokoll_v7.0-v7.2.md) (30 Einträge, v7.0–v7.2)
Archiv: [`archiv/aenderungsprotokoll_v7.3-v7.5.md`](archiv/aenderungsprotokoll_v7.3-v7.5.md) (15 Einträge, v7.3–v7.5)
Archiv: [`archiv/aenderungsprotokoll_v7.3-v8.0.md`](archiv/aenderungsprotokoll_v7.3-v8.0.md) (15 Einträge, v7.3–v8.0)
Archiv: [`archiv/aenderungsprotokoll_v7.2.1-v7.3.md`](archiv/aenderungsprotokoll_v7.2.1-v7.3.md) (15 Einträge, v7.2.1–v7.3)
Archiv: [`archiv/aenderungsprotokoll_v7.2.1-n31-45.md`](archiv/aenderungsprotokoll_v7.2.1-n31-45.md) (15 Einträge, #31–#45)
Archiv: [`archiv/aenderungsprotokoll_n46-60.md`](archiv/aenderungsprotokoll_n46-60.md) (15 Einträge, #46–#60)
Archiv: [`archiv/aenderungsprotokoll_n61-75.md`](archiv/aenderungsprotokoll_n61-75.md) (15 Einträge, #61–#75)
Archiv: [`archiv/aenderungsprotokoll_n76-90.md`](archiv/aenderungsprotokoll_n76-90.md) (15 Einträge, #76–#90)
Archiv: [`archiv/aenderungsprotokoll_n91-105.md`](archiv/aenderungsprotokoll_n91-105.md) (15 Einträge, #91–#105)

---

| # | Datum | Version | Typ | Beschreibung |
|---|-------|---------|-----|-------------|
| 137 | 2026-02-20 | v7.2.1 | fix | **OCR Extension-Method Bug** — PowerShell 5.1 kann Extension Methods (wie `AsRandomAccessStream()`) nicht als Instanzmethoden aufrufen. Ersetzt durch WinRT `StorageFile.OpenReadAsync()`, das eine `IRandomAccessStream` direkt zurückgibt — kein Extension-Method-Aufruf nötig. |
| 136 | 2026-02-20 | v7.2.1 | fix | **Kontextmenü Tiefenanalyse — 7 Logik-Probleme behoben** — (1) "Im Explorer öffnen" bei Hintergrund-Rechtsklick tat nichts — nutzt jetzt aktuellen Ordner. (2) Lösch-Fehler wurden verschluckt — try/catch + Toast ergänzt. (3) "Tag entfernen" bei Mehrfachauswahl versteckt — prüft jetzt alle ausgewählten Dateien. (4) Umbenennen-Fehler ohne Feedback — Toast ergänzt. (5) "Neues Textdokument" schlug fehl bei bestehendem Namen — Kollisionserkennung mit (2), (3)... ergänzt. (6) Ungenutzter `moveTarget` State entfernt. (7) Ansicht-Platzhalter durch funktionalen Größenfarben-Toggle ersetzt. |
| 135 | 2026-02-20 | v7.2.1 | fix | **Kontextmenü — Pfad kopieren bei Mehrfachauswahl, Tags für mehrere Dateien** — 3 Logik-Probleme behoben: (1) "Pfad kopieren" kopierte bei Mehrfachauswahl nur einen Pfad — jetzt werden alle Pfade (Zeilenumbruch-getrennt) kopiert. (2) Tag-Submenu war bei Mehrfachauswahl komplett versteckt — jetzt immer sichtbar, Tags werden auf alle ausgewählten Dateien angewendet. (3) "Tag entfernen" arbeitete ebenfalls nur auf einer Datei — jetzt Schleife über alle ausgewählten. |
| 134 | 2026-02-20 | v7.2.1 | fix | **PDF Worker-Laden — Worker als statisches Asset** — Ursache des "Fehler beim Laden: Setting up fake worker failed"-Fehlers: `fetch()` holte den Worker über den Vite Dev Server, der `/@vite/client`-Imports injizierte. In Blob-URL-Kontext konnten diese nicht aufgelöst werden. Fix: Worker-Datei in `src/public/` kopiert (wird von Vite unverändert ausgeliefert), referenziert als `/pdf.worker.min.mjs`. Polyfills entfernt da Edge 144+ `Uint8Array.toHex/fromHex` nativ unterstützt. |
| 133 | 2026-02-20 | v7.2.1 | fix | **ZIP-Kontextmenü — Mehrfachauswahl, Entpacken nach..., ehrliche Formatunterstützung** — 6 Probleme behoben: (1) "Archiv entpacken" bei Mehrfachauswahl entpackte nur 1 Datei statt aller ausgewählten Archive. (2) Neue Option "Entpacken nach..." mit Zielordner-Dialog (wie Windows Explorer "Alle extrahieren..."). (3) "Als ZIP komprimieren" war bei Archiv-Dateien versteckt — jetzt immer sichtbar. (4) isArchive-Liste suggerierte Unterstützung für .7z/.rar/.tar.gz die das Backend nicht bietet — auf .zip korrigiert (einziges nativ unterstütztes Format). (5) Bei Mehrfachauswahl mit gemischten Dateitypen werden Archiv-Aktionen korrekt angeboten wenn mindestens ein ZIP dabei ist. (6) Toast-Feedback zeigt jetzt Anzahl entpackter Archive und Zielordner. |
| 132 | 2026-02-20 | v7.2.1 | docs | **GPO-Scanner und Erweiterter Sicherheitscheck entfallen** — Simons Entscheidung: Beide Features werden nicht umgesetzt. Stufe 2 komplett gestrichen, App springt direkt von Stufe 1 zu Stufe 3. Gesamtübersicht und Zielgruppen-Tabelle in issue.md aktualisiert, alle Referenzen auf Stufe 2 bereinigt. |
| 131 | 2026-02-20 | v7.2.1 | fix | **PDF-Doppelklick im Explorer funktioniert jetzt zuverlässig** — Race Condition in PdfEditorView behoben: `pendingPdfPath` aus dem globalen Context wurde als abgeleiteter Wert (`const filePath = pendingPdfPath || propFilePath`) verwendet. Wenn der useEffect den Context-Wert löschte (`setPendingPdfPath(null)`), triggerte der Re-Render eine Änderung von `filePath` (Pfad → leer), was den PDF-Lade-useEffect cancelte (`cancelled = true`). Fix: Pfad wird jetzt in lokalem State (`activePdfPath`) gespeichert bevor der Context geleert wird — der Lade-Effect sieht nur noch den stabilen lokalen State. |
| 130 | 2026-02-20 | v7.2.1 | improve | **Explorer-Tastaturnavigation und Kontextmenü-Bereinigung** — Pfeil-Navigation (Hoch/Runter) mit automatischem Scroll-into-View, Home/End-Tasten zum ersten/letzten Element, Strg+Shift+N Shortcut für neuen Ordner. PDF-Kontextmenü bereinigt: redundantes "Im PDF-Editor öffnen" durch "Mit Standardprogramm öffnen" ersetzt (da "Öffnen" für PDFs bereits den internen Editor nutzt). ctxAction('open') refactored auf handleDoubleClick (keine Logik-Duplikation mehr). Ungenutzte isImage/isMedia-Variablen entfernt. Shortcut-Hinweis Strg+Shift+N im Kontextmenü ergänzt. |
| 129 | 2026-02-20 | v7.2.1 | feature | **Eigenschaften-Dialog, Shortcuts & PDF-Integration** — Neuer vollständiger Eigenschaften-Dialog mit 5 Tabs (Allgemein, Sicherheit, Details, Versionen, Prüfsummen) ersetzt den rudimentären showConfirmDialog-Text. Nutzt alle 6 Backend-APIs (filePropertiesGeneral, Security, Details, Versions, Hash). Tabs laden Daten on-demand. Alt+Enter Shortcut öffnet Eigenschaften (analog zu Windows Explorer). PDF-Doppelklick im Explorer öffnet jetzt den internen PDF-Editor statt den Systemstandard (Chrome). Kontextmenü erweitert: "Im PDF-Editor öffnen" für PDF-Dateien, Shortcut-Hinweis "Alt+Enter" bei Eigenschaften. AppContext um pendingPdfPath und propertiesPath erweitert für globale Steuerung. |
| 128 | 2026-02-20 | v7.2.1 | improve | **Tiefenanalyse — Race Conditions, Error Handling, Performance** — ExplorerView: Race Condition in navigateTo via Generationszähler behoben (schnelle Ordner-Klicks überschreiben nicht mehr neuere Ergebnisse), try/catch um api.listDirectory ergänzt (verhindert ewigen Spinner bei Fehler), Drag/Drop-Fehler werden jetzt als Toast angezeigt statt verschluckt. NetworkView: getFilteredGroups von useCallback auf useMemo umgestellt (sortiert/filtert nicht mehr bei jedem Render). TreeView: breadcrumbParts von IIFE auf useMemo. DuplicatesView: checkedSize von O(N*M) Nested-Loop auf O(N+M) mit Lookup-Map + useMemo. TopFilesView: totalSize als useMemo. App.tsx: 4 Init-API-Aufrufe (getDrives, getSystemCapabilities, getBatteryStatus, getRestoredSession) von sequenziell auf parallel umgestellt (Promise.allSettled) — beschleunigt den App-Start nach dem Laden. |
| 127 | 2026-02-20 | v7.2.1 | improve | **Performance & Stabilität** — ExplorerView: Sortierung von useCallback auf useMemo umgestellt (sortiert nicht mehr bei jedem Render, spürbar bei großen Ordnern), Breadcrumbs ebenfalls memoized, Deep-Search-Event-Listener-Leak behoben (alte Listener werden vor neuer Suche entfernt + Cleanup nach Complete/Error), `getPreferences()` nur einmal beim Mount statt bei jeder Navigation geladen. ChartsView: sortedData und totalSize auf useMemo umgestellt. NetworkView: Stale Closure im Company-Timer behoben (`loaded` war durch Closure immer `false`), renderSparklines-useEffect von fehlender Dependency-Liste auf korrekte Dependencies umgestellt (lief zuvor nach jedem Render). App.tsx: `ctx`-Dependency in allen useCallback-Hooks durch spezifische Werte ersetzt — verhindert unnötige Re-Renders von Toolbar und Sidebar bei jeder Context-Änderung. |
| 126 | 2026-02-20 | v7.2.1 | fix | **Logik-Audit** — Systematische Prüfung aller 23 Views, 4 Komponenten und 5 Utilities auf Logikprobleme. 5x `window.confirm()` durch native Tauri-Dialoge (`api.showConfirmDialog`) ersetzt (AppsView 2x, UndoLogView 1x, PdfEditorView 2x). 3x `showSaveDialog`-Rückgabewert korrigiert: konsistent `result.path` statt fragiler `result.path \|\| result`-Pattern (AppsView, PdfEditorView Export + Merge). Ungenutzten Code entfernt: `driveLetter`-Variable (App.tsx), `escapeHtml`-Import (SmartView), `sampleSize`-Variable (DuplicatesView). |
| 125 | 2026-02-20 | v7.2.1 | feature | **Kontextmenü im Explorer** — Vollständiges Windows-ähnliches Rechtsklick-Kontextmenü. Datei/Ordner-Menü: Öffnen (fett), Öffnen mit, Bearbeiten (30+ Textdatei-Formate, öffnet in VS Code/Notepad), Als Administrator (.exe/.msi/.bat/.cmd/.ps1), Im Explorer anzeigen, Terminal hier öffnen, Ausschneiden (Strg+X), Kopieren (Strg+C), Einfügen (Strg+V, auch in Ordner als "Hier einfügen"), Pfad kopieren, Umbenennen (F2), Verschieben/Kopieren nach (Dialog-Bug gefixt), Als ZIP, Archiv entpacken (.zip), Tags (6 Farben Submenu), In Papierkorb (Entf), Endgültig löschen (Shift+Entf), Eigenschaften. Leerflächen-Menü: Ansicht, Sortieren nach (Name/Größe/Typ/Datum, aktive Sortierung markiert), Aktualisieren (F5), Neuer Ordner, Neues Textdokument, Einfügen, Terminal, Explorer, Eigenschaften. Neuer Backend-Command `edit_in_editor` (VS Code → Notepad Fallback). |
| 124 | 2026-02-20 | v7.2.1 | refactor | **Redundante Features entfernt** — Sicherheits-Check, Optimierung und Dienste-Verwaltung entfernt, da sie Windows-Bordmittel (Windows Defender, Windows-Sicherheit, Dienste-Manager) duplizieren. 3 Views gelöscht (SecurityAuditView, OptimizerView, ServicesView), 7 Backend-Commands entfernt (run_security_audit, get_audit_history, get_services, control_service, set_service_start_type, get_optimizations, apply_optimization), 10 API-Funktionen bereinigt. Beibehalten: Privacy-Dashboard (einzigartiger Mehrwert), S.M.A.R.T.-Festplattenprüfung (nicht in Windows enthalten), PC-Diagnose (angepasst auf 3 Kategorien: Speicher, Festplatten, Datenschutz). System Score von 6 auf 5 Kategorien reduziert, Gewichte umverteilt. Dashboard-Karten aktualisiert (Apps + Diagnose statt Optimierung/Dienste/Autostart). |
| 123 | 2026-02-20 | v7.2.1 | feature | **Delta-Scan & Scan-Verlauf — Intelligente Scandaten** — Issue #7 komplett umgesetzt. Neues Backend-Modul `scan_history.rs` mit leichtgewichtigen Scan-Snapshots (Metriken ohne vollständige Dateiliste). Snapshots werden automatisch nach jedem Scan erstellt und in `%APPDATA%/speicher-analyse/scan-history.json` persistiert (max 50). 7 neue Tauri-Commands: save_scan_snapshot, get_scan_history, compare_scans, get_storage_trend, quick_change_check, delete_scan_snapshot, clear_scan_history. Neuer Sidebar-Tab "Scan-Verlauf" in der Speicher-Gruppe mit 4 Sub-Tabs: (1) Zeitverlauf: Chronologische Snapshot-Liste mit Kategorie-Aufschlüsselung und Änderungsanzeige zwischen aufeinanderfolgenden Scans. (2) Delta-Vergleich: Zwei beliebige Snapshots vergleichen — zeigt Speicher-/Dateiänderung, Kategorie-Änderungen und die 15 Ordner mit den größten Veränderungen. (3) Trend-Analyse: Wachstumsrate pro Tag/Woche/Monat basierend auf allen historischen Snapshots. (4) Schnellprüfung: Leichtgewichtige Änderungserkennung ohne vollen Scan — prüft Ordner-Modifikationszeiten gegen letzten Scan-Zeitstempel. |
| 122 | 2026-02-20 | v7.2.1 | feature | **Apps-Kontrollzentrum — Vereinheitlichte App-Verwaltung** — Issue #9 komplett umgesetzt. 3 bisherige Einzeltabs (Autostart, Updates, Software-Audit) zu einem "Apps"-Tab mit 5 Sub-Tabs zusammengeführt: (1) Übersicht: Alle Programme (Registry + Store via Get-AppxPackage), Suche, Filter (Alle/Desktop/Store), Sortierung (Name/Größe/Herausgeber), Deinstallation mit Rückstandsprüfung. (2) Updates: Windows-Updates (COM), Software-Updates (winget), Update-Verlauf. (3) Vergessen: Apps die seit 180+ Tagen nicht benutzt wurden (LastAccessTime auf .exe). (4) Bereinigung: Cache-Analyse (Windows Temp, Prefetch, Browser-Caches) mit Sicherheits-Whitelist, selektive Bereinigung. (5) Werkzeuge: Export als JSON/CSV/winget-Script + Autostart-Verwaltung. 7 neue Backend-Commands (get_apps_overview, uninstall_software, check_uninstall_leftovers, get_unused_apps, analyze_app_cache, clean_app_cache, export_program_list). 3 alte Views gelöscht (AutostartView, UpdatesView, SoftwareAuditView). |
| 121 | 2026-02-19 | v7.2.1 | feature | **Aktionsprotokoll (Undo-Log) — Vollständiges Vertrauens-System** — Issue #15 Phase 3 komplett umgesetzt. Neues Backend-Modul `undo.rs` mit persistentem Aktionslog (%APPDATA%/speicher-analyse/undo-log.json, max 100 Einträge). 3 neue Tauri-Commands: get_undo_log, undo_action, clear_undo_log. 6 destruktive Commands instrumentiert: delete_to_trash (Papierkorb → umkehrbar), delete_permanent (endgültig → nicht umkehrbar), file_move (verschoben → umkehrbar), toggle_autostart (Status → umkehrbar), delete_autostart (gelöscht → nicht umkehrbar), apply_privacy_setting (Datenschutz → umkehrbar via Reset). Rückgängig-Logik: Papierkorb öffnen, Dateien zurück verschieben, Autostart/Privacy zurücksetzen. Neuer Sidebar-Tab "Aktionsprotokoll" in der Extras-Gruppe mit Ampel-System: Grüner Punkt = umkehrbar, Roter Punkt = nicht umkehrbar. Jeder umkehrbare Eintrag hat einen "Rückgängig"-Button. |
| 120 | 2026-02-19 | v7.2.1 | feature | **PDF-Editor: Exportieren, Drucken und losgelöstes Fenster** — Issue #5 komplett umgesetzt. (1) Exportieren: "Exportieren"-Button speichert annotierte PDF unter neuem Namen via showSaveDialog mit defaultPath und PDF-Filter. (2) Drucken: "Drucken"-Button öffnet Browser-Druckdialog, @media print CSS blendet UI-Chrome aus und zeigt nur PDF-Seiten. (3) Losgelöstes Fenster: "Fenster lösen"-Button öffnet neues Tauri-Fenster (WebviewWindowBuilder) mit URL-Parameter-Routing (?pdf=encoded-path). main.tsx erkennt den Parameter und rendert PdfEditorView standalone mit AppProvider. Neuer Tauri-Command `open_pdf_window` in cmd_pdf.rs, API-Funktion `openPdfWindow` in tauri-api.ts. showSaveDialog-Backend erweitert um defaultPath und filters-Parameter. |
| 119 | 2026-02-19 | v7.2.1 | docs | **Tiefenrecherche: Migrations-Rückstände bereinigt** — Manuelle akribische Prüfung aller Projekt-Dateien auf Electron/Vanilla-JS/renderer/-Rückstände. Gefunden und behoben: cmd_network.rs Kommentar `network.js`→`NetworkView`, issue_tiefenanalyse.md archiviert (alle 25 Issues gelöst, Vanilla-JS-Ära), recherche_prompt.md v2.2→v3.0 komplett auf React+Vite+TypeScript aktualisiert (Dateistruktur, IPC-Flow, Verifikationsschritte, Anti-Pattern-Checks). Sauber: src/ (0 window.api, 0 renderer/, 0 electron), Skills, CLAUDE.md, package.json, .gitignore, tauri.conf.json, Capabilities. |
| 118 | 2026-02-19 | v7.2.1 | refactor | **React-Patterns: CustomEvent→Context, TabRouter→Conditional, dangerouslySetInnerHTML→JSX** — 10 CustomEvent/dispatchEvent-Stellen entfernt: Scan-Progress/Complete/Error via Props statt document.dispatchEvent, Theme via AppContext statt settings-theme-change Event, 5 Dead-Code-Dispatches entfernt (toggle-global-terminal, activate-omnibar, settings-pref-change, explorer-navigate, open-in-preview). TabRouter von permanent-mounting (22 Views gleichzeitig im DOM) auf conditional rendering umgestellt (nur aktiver Tab gemountet). 4 dangerouslySetInnerHTML-Stellen in ExplorerView durch FileIcon/QaIcon React-Komponenten ersetzt (file-icons.ts→file-icons.tsx). -99 Zeilen, 0 TypeScript-Fehler. |
| 117 | 2026-02-19 | v7.2.1 | refactor | **Post-Migration Cleanup: Dokumentation, Security & tote Dateien** — governance.md komplett auf React 19 + Vite 7 aktualisiert (XSS-Prävention → React JSX, Memory-Leak → useEffect-Cleanup, IPC-Architektur → src/api/tauri-api.ts). powershell-cmd SKILL: tauri-bridge.js → tauri-api.ts. stub.ts: DOM-Manipulation durch React showToast-Callback ersetzt. ExplorerView: 2 XSS-anfällige dangerouslySetInnerHTML (folder.name/drive.mountpoint in Quick-Access) durch sicheres JSX ersetzt, sizeBarHtml durch React-Komponente ersetzt. CLAUDE.md: Methodenzahl auf 150 korrigiert. Tote Dateien entfernt: app.py, models.py, scanner.py, requirements.txt, start.bat, electron-builder.yml, static/, __pycache__/. |
| 116 | 2026-02-19 | v7.2.1 | docs | **Skills, CLAUDE.md, MEMORY.md, Anforderungen auf React+Vite aktualisiert** — Alle 14 Skills in `.claude/skills/` auf React 19 + TypeScript + Vite 7 Architektur migriert (Dateipfade, Templates, Konventionen). CLAUDE.md: Tech Stack, Architektur, IPC-Muster, XSS-Prävention, Memory-Leak-Regeln auf React-Patterns aktualisiert. MEMORY.md: Kompletter Rewrite mit neuen Key Files und Lessons. anforderungen.md: Commands-Modulstruktur dokumentiert, Frontend-Referenzen aktualisiert. |
| 115 | 2026-02-19 | v7.2.1 | refactor | **Frontend-Migration: Vanilla JS → React 19 + TypeScript + Vite 7** — Big-Bang-Migration aller 36 Vanilla-JS-Dateien (~13.720 Zeilen) unter `renderer/` zu React-Komponenten unter `src/`. 23 Views als lazy-loaded React-Komponenten (React.lazy + Suspense). Typisierte API-Bridge `src/api/tauri-api.ts` mit 155 Methoden + 16 Events ersetzt `renderer/js/tauri-bridge.js`. AppContext für globalen State (scanId, drives, activeTab, showToast). useEffect-Cleanup ersetzt destroy()-Pattern. Chart.js bleibt als globales Script, xterm.js und pdfjs-dist als npm-Pakete. Backend (Rust) komplett unverändert. Alle 22 Tabs via Puppeteer verifiziert. |
| 114 | 2026-02-19 | v7.2.1 | feature | **PDF-Editor mit Annotationen, OCR und Seiten-Management** — Neuer PDF-Editor als Sidebar-Tab in der Extras-Gruppe. Bearbeitung direkt in der App: Markierungen (Highlight), Kommentare, Freihand-Zeichnungen. OCR-Texterkennung via Windows.Media.Ocr (25+ Sprachen, offline) macht gescannte PDFs durchsuchbar. Seiten-Management: Drehen, Löschen, PDFs zusammenfügen. Rendering via pdf.js (Frontend), Manipulation via PDFium/pdfium-render (Rust-Backend, Apache 2.0). 8 neue Tauri-Commands (pdf_get_info, pdf_get_annotations, pdf_save_annotations, pdf_ocr_page, pdf_add_text_layer, pdf_rotate_page, pdf_delete_pages, pdf_merge). Einstiegspunkte: Sidebar-Button, Vorschau-Bearbeiten-Button, Kontextmenü "PDF bearbeiten", Doppelklick auf PDF im Explorer. Ersetzt für 90% der Nutzer das Adobe Acrobat Pro Abo (~25€/Monat). |
| 113 | 2026-02-19 | v7.2.1 | refactor | **Bloatware-Feature komplett entfernt** — Strategische Entscheidung von Simon: Windows Defender und Microsofts MSRT decken diesen Bereich professionell ab, subjektive Klassifizierung ("ist das Bloatware?") birgt Haftungsrisiko. Backend (scan_bloatware, uninstall_bloatware), Bridge-Mappings, Frontend (bloatware.js, Sidebar-Button, CSS ~115 Zeilen), WCAG-Gate-Eintrag und System-Score-Beschreibung bereinigt. Issue #8 als ENTFALLEN markiert. |
| 112 | 2026-02-19 | v7.2.1 | feature | **PC-Diagnose — Ein-Klick Gesundheitscheck (Stufe 1.1)** — Neuer Sidebar-Tab "Diagnose" in der Start-Gruppe. Prüft parallel: Festplattenplatz, S.M.A.R.T.-Gesundheit, Datenschutz, Sicherheit. Zeigt Gesamtbewertung (0–100) mit Ampel-Kreis, 4 Kategorie-Karten mit Fortschrittsbalken und priorisierte Empfehlungen mit Direktlinks zu den betroffenen Bereichen. Nutzt ausschließlich bestehende Backend-Commands. Ergebnisse werden gecacht. |
| 111 | 2026-02-19 | v7.2.1 | improve | **Panel-Größen über Neustarts persistieren (#13)** — Sidebar-Breite, Vorschau-Breite und Terminal-Höhe werden nach manuellem Resize in localStorage gespeichert und beim nächsten App-Start wiederhergestellt. SmartLayout überschreibt manuell gesetzte Vorschau-Breite nicht mehr. Sidebar-Breite wird beim Re-Expand automatisch auf den gespeicherten Wert gesetzt. |
| 110 | 2026-02-19 | v7.2.1 | feature | **Sidebar per Drag skalierbar (#13)** — Neuer Resize-Handle am rechten Rand der expandierten Sidebar (140–400px, wie VS Code). SmartLayout wird bei manuellem Resize deaktiviert. Custom-Breite wird beim Collapse automatisch zurückgesetzt. Alle 3 Panel-Bereiche (Sidebar, Vorschau, Terminal) sind jetzt per Drag skalierbar. |
| 109 | 2026-02-19 | v7.2.1 | improve | **System-Profil erweitert** — Windows-Produktschlüssel (letzte 5 Zeichen) wird automatisch via `SoftwareLicensingProduct` ausgelesen. Hersteller-Links werden dynamisch basierend auf Gerätehersteller (Lenovo, Dell, HP, ASUS, Acer, MSI, Samsung, Microsoft), CPU-Hersteller (Intel, AMD) und GPU-Hersteller (NVIDIA, AMD/ATI) generiert. |
| 108 | 2026-02-19 | v7.2.1 | refactor | **Registry-Cleaner-Reste bereinigt** — 90 Zeilen verwaiste Registry-View-CSS aus style.css entfernt. README aktualisiert (Registry-Cleaner und Geräte-Scanner Erwähnungen entfernt). Strategische Entscheidung als "Umgesetzt" markiert — Registry-Cleaner-Commands wurden nie ins Tauri portiert (K-1 Tiefenanalyse). |
| 107 | 2026-02-19 | v7.2.1 | feature | **ZIP-Komprimierung + Scan-Performance** — Neuer `create_archive` Command (PowerShell `Compress-Archive`) mit Kontextmenü-Eintrag "Als ZIP komprimieren" für Dateien und Ordner (Mehrfachauswahl unterstützt). Scan-Daten werden jetzt mit zstd-Kompression gespeichert (~5-8x kleinere Dateien), was die Ladezeit beim App-Start deutlich reduziert. Automatische Format-Migration: alte Formate (bincode/JSON) werden beim Laden erkannt und beim nächsten Speichern als zstd geschrieben. |
| 106 | 2026-02-19 | v7.2.1 | feature | **Terminal PTY mit ConPTY** — Echtes Pseudo-Terminal via `portable-pty` v0.9 (Windows ConPTY) ersetzt die bisherige stdin/stdout-Pipe-I/O-Lösung. `terminal_resize()` ist jetzt funktional (war zuvor Stub). PTY-Reader-Thread emittiert `terminal-data` Events, EOF-Erkennung über Slave-Drop, sauberes Cleanup via `Child::kill()/wait()`. Prerequisite für zukünftige Claude Code CLI Integration. |

---

## Lessons Learned

Siehe auch: [`archiv/aenderungsprotokoll_v7.0-v7.2.md`](archiv/aenderungsprotokoll_v7.0-v7.2.md) (3 Lessons)
Siehe auch: [`archiv/aenderungsprotokoll_v7.3-v7.5.md`](archiv/aenderungsprotokoll_v7.3-v7.5.md)

### #9: Migration = JEDE Funktion prüfen, nicht nur die offensichtlich kaputten (2026-02-16)

**Problem:** Nach der Electron→Tauri v2 Migration wurden 31 Funktionen als Stubs belassen (leere Arrays, `null`, `{ stub: true }`). Die KI hat nur die offensichtlich sichtbaren Probleme (Netzwerk-Scan) repariert und die restlichen 31 Stubs ignoriert. Der User musste mehrmals darauf hinweisen, dass Funktionen fehlen — obwohl eine systematische Prüfung ALLER Commands beim ersten Mal nötig gewesen wäre.

**Ursache:** Isolierte statt ganzheitliche Analyse. Die KI hat sich auf ein Symptom konzentriert (Netzwerk zeigt keine Daten) statt die gesamte Codebasis systematisch zu prüfen (welche Commands sind Stubs? welche geben Fake-Daten zurück?).

**Lösung:** Nach JEDER Migration/Rewrite: Systematisch JEDEN Command in commands.rs durchgehen und per Grep nach Stub-Patterns suchen (`stub: true`, `json!([])`, `json!(null)`, `"not implemented"`). Checkliste abarbeiten, nicht nur die ersten sichtbaren Fehler fixen.

**Lehre:**
- Migration ist NICHT fertig wenn die App startet. Migration ist fertig wenn JEDE Funktion echte Daten liefert.
- NIEMALS isoliert analysieren. IMMER die gesamte Codebasis prüfen.
- Ein Stub der `[]` oder `null` zurückgibt ist genauso kaputt wie ein Kompilierungsfehler — er ist nur schwerer zu sehen.
- Der User muss NIEMALS zweimal auf dasselbe Problem hinweisen. Beim ersten Hinweis: ganzheitlich prüfen, nicht nur den gemeldeten Fall fixen.
- Grep-Patterns für Stub-Erkennung: `stub: true`, `json!([])`, `json!(null)`, `"not implemented"`, `"not yet"`, `todo!()`, `unimplemented!()`



> Electron-Ära Lessons (#1-#8) wurden in [`docs/lessons-learned/lessons-learned.md`](../../lessons-learned/lessons-learned.md) archiviert (Kategorien: Allgemein, Migration).
