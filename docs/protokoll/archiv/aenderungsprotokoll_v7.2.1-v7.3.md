# Änderungsprotokoll — Archiv v7.2.1–v7.3

> Archiviert am 2026-02-13. Enthält 15 Einträge.

---

| # | Datum | Version | Typ | Beschreibung |
|---|-------|---------|-----|-------------|
| 30 | 2026-02-12 | v7.2.1 | fix | **Vergleich-Tab entfernt + Duplikat-Scan verbessert** - Vergleich-Tab komplett entfernt (unpraktisch, wird durch automatischen Scan-Verlauf ersetzt). Duplikat-Scan: Button deaktiviert wenn kein Laufwerk-Scan vorhanden, verständliche Fehlermeldung statt kryptischem "Scan nicht gefunden", fehlendes Error-Event im Frontend gefixt (UI hing bei Fehlern), Fortschrittsanzeige pro Phase korrigiert (korrekte Zahlen + ETA). |
| 25 | 2026-02-11 | v7.2.1 | feature | **Netzwerk-Monitor: IP-Ownership via ip-api.com** - DNS Reverse Lookup durch echte WHOIS/IP-Datenbank ersetzt. ip-api.com Batch-API löst alle IPs in einer Anfrage auf (Organisation, ISP, Land, Länderflagge). Lokale Adressen (0.0.0.0) ausgeblendet. Verbindungen zur gleichen IP gruppiert. Tracker rot markiert. Firmenübersicht im Gruppen-Header. Fallback auf DNS bei API-Ausfall. |
| 1 | 2026-02-10 | v7.5 | fix | **PDF toHex Polyfill** - pdf.js v5.4 nutzt `Uint8Array.prototype.toHex()` das in Chrome 130 (Electron 33) nicht existiert. Polyfill in index.html eingefügt. Zusätzlich Worker Blob-URL-Fix für file:// Protokoll. |
| 2 | 2026-02-10 | v7.5 | fix | **PDF Worker-Kontext Polyfill** - toHex/fromHex Polyfill wurde nur im Main-Page-Kontext geladen, aber pdf.js ruft toHex() im Worker auf. Fix: Polyfill wird jetzt direkt in den Worker-Blob injiziert (vor dem pdf.js Worker-Code), damit es im Worker Execution Context verfügbar ist. |
| 3 | 2026-02-10 | v7.5 | feature | **Speicherfarben konfigurierbar** - Farbliche Hervorhebung großer Dateien/Ordner (rot >1GB, orange >100MB, gelb >10MB) ist jetzt standardmäßig deaktiviert. Neue Preference `showSizeColors` mit Toggle in Einstellungen → Allgemein. |
| 4 | 2026-02-10 | v7.5 | feature | **Intelligentes Layout** - Panels (Vorschau, Terminal) passen sich automatisch an die Fenstergröße an. <1000px: schmaler, >1400px: breiter. Neue Preference `smartLayout` mit Toggle in Einstellungen. ResizeObserver-basiert, deaktivierbar. |
| 5 | 2026-02-10 | v7.2.1 | fix | **Session-Restore: minimizeToTray Migration** - Root-Cause: `minimizeToTray` war `true` in bestehenden preferences.json → X-Button minimierte statt zu schließen → `before-quit` feuerte nie → Session wurde nie gespeichert. Fix: Einmalige Migration erzwingt `minimizeToTray: false` für bestehende User mit Flag `_migratedMinimizeToTray`. |
| 6 | 2026-02-10 | v7.2.1 | improve | **Smart Layout: Sidebar + Content** - Smart Layout erweitert: Sidebar klappt automatisch bei <1000px zu und bei >1400px auf (respektiert manuelle Toggles). CSS-Klassen `smart-layout-narrow`/`smart-layout-wide` auf `#app` steuern Dashboard-Grid (1/2/3 Spalten) und Content-Padding (8/16/20px). |
| 7 | 2026-02-10 | v7.2.1 | fix | **Versionierung vereinheitlicht** - 3 verschiedene Versionen im Code (v7.2 in index.html, v7.4 in settings.js, 7.5.0 in package.json) auf v7.2.1 vereinheitlicht. Session-Diagnostik-Logging in Load/Save/Restore-Pfaden hinzugefügt. |
| 8 | 2026-02-11 | v7.2.2 | fix | **Privacy Dashboard: Sideloading-Schutz + Standard/Erweitert-Trennung** - Root-Cause: AllowTelemetry=0 auf Windows Pro kann App-Sideloading blockieren (AllowAllTrustedApps=0). Fix: (1) Sideloading-Check + Reparatur-Button im Dashboard, (2) Einstellungen in Standard (HKCU, sicher) und Erweitert (HKLM, gefährlich) aufgeteilt, (3) Erweiterte Einstellungen hinter Aufklapp-Sektion + Bestätigungsdialog mit Warnhinweisen, (4) "Alle optimieren" wendet nur Standard-Einstellungen an, (5) Telemetrie-Empfehlung von 0 auf 1 korrigiert (Level 0 nur Enterprise/Education), (6) Windows-Edition wird erkannt und angezeigt. |
| 9 | 2026-02-11 | v7.2.2 | fix | **Auto-Reload Stabilisierung** - Root-Cause: `fs.watch()` auf Windows feuert Ghost-Events bei Datei-Zugriff (nicht nur Änderung), ausgelöst durch Windows Defender, Search Indexer, und Electron-eigene Dateizugriffe. Fix: mtime-Tracking (nur bei tatsächlicher Änderung), Whitelist für Dateitypen (.js/.css/.html), Minimum 2s zwischen Reloads, 500ms/1s Debounce. |
| 10 | 2026-02-11 | v7.2.2 | feature | **Automatische Admin-Elevation für Sideloading-Fix** - Sideloading-Reparatur startet bei fehlenden Rechten automatisch als Administrator neu. Pending-Action-System in admin.js: Aktion wird in %APPDATA% gespeichert, nach Admin-Neustart automatisch ausgeführt, Session bleibt erhalten. Toast-Benachrichtigung zeigt Ergebnis nach Neustart. |
| 11 | 2026-02-11 | v7.2.3 | fix | **Admin-Elevation: App startet nicht neu** - 4 Root-Causes identifiziert + behoben: (1) Single-Instance Lock Race Condition — `app.releaseSingleInstanceLock()` vor Prozess-Start, Lock wird bei UAC-Abbruch wieder erworben, (2) cmd.exe Double-Quote-Nesting — `execFileAsync` statt `execAsync` (bypassed cmd.exe komplett), (3) 10s Timeout zu kurz für UAC — auf 120s erhöht, (4) `app.quit()` ist async — durch `app.exit(0)` ersetzt (sofortiger Exit). Zusätzlich: `app._isElevating`-Flag verhindert dass Window-Close, window-all-closed und Tray-Beenden während Elevation `app.quit()` aufrufen (würde before-quit Cleanup triggern und scans-Map leeren). Pending-Action-Timeout von 60s auf 120s erhöht. |
| 12 | 2026-02-11 | v7.3 | feature | **Privacy: Intelligente, App-bewusste Datenschutz-Empfehlungen** - Alle 12 Privacy-Einstellungen mit laienverständlichen Erklärungen + Auswirkungen ergänzt. APP_PERMISSIONS Datenbank (35+ App-Patterns) korreliert installierte Software mit Privacy-Settings. Empfehlungssystem (safe/caution/risky) pro Einstellung. Frontend zeigt Erklärungen, Auswirkungen, Empfehlungs-Badges mit betroffenen Apps + Zusammenfassungs-Banner. |
| 13 | 2026-02-11 | v7.3 | fix | **X-Button beendet App zuverlässig** - Root-Cause: `minimizeToTray`-Check im close-Handler versteckte Fenster statt App zu beenden → User killte per Task-Manager → before-quit feuerte nie → Session nie gespeichert. Fix: Close-Handler vereinfacht — X = `app.quit()`, immer, ohne Ausnahme. Minimize-to-Tray nur noch über Minimieren-Button (tray.js). |
